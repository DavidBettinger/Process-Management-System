<div class="space-y-4" [formGroup]="form">
  <app-tw-field label="Titel" [required]="true" [error]="isInvalid('title') ? requiredMessage('Titel') : null">
    <input
      type="text"
      formControlName="title"
      placeholder="z.B. Konzeptentwurf vorbereiten"
      class="w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-200"
    />
  </app-tw-field>

  @if (showPriority) {
    <app-tw-field
      label="Prioritaet"
      [required]="true"
      [error]="isInvalid('priority') ? requiredMessage('Prioritaet') : null"
    >
      <select
        formControlName="priority"
        class="w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-200"
      >
        @for (option of priorityOptions; track option.value) {
          <option [value]="option.value">{{ option.label }}</option>
        }
      </select>
    </app-tw-field>
  }

  @if (showDescription) {
    <app-tw-field label="Beschreibung (optional)">
      <textarea
        formControlName="description"
        rows="3"
        placeholder="Weitere Details oder Hinweise"
        class="w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-200"
      ></textarea>
    </app-tw-field>
  }

  @if (showDueDate) {
    <app-tw-field label="Faellig bis (optional)">
      <input
        type="date"
        formControlName="dueDate"
        class="w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-200"
      />
    </app-tw-field>
  }
</div>
