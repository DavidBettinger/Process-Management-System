<section class="task-create">
  <div class="task-create-header">
    <h3>Aufgabe erstellen</h3>
    <p>Lege eine neue Aufgabe fuer diesen Prozess an.</p>
  </div>

  <form class="form" [formGroup]="form" (ngSubmit)="submit()">
    <label>
      Titel
      <input type="text" formControlName="title" placeholder="z.B. Konzeptentwurf vorbereiten" />
      @if (isInvalid('title')) {
        <span class="error">{{ requiredMessage('Titel') }}</span>
      }
    </label>

    <label>
      Prioritaet
      <select formControlName="priority">
        @for (option of priorityOptions; track option.value) {
          <option [value]="option.value">{{ option.label }}</option>
        }
      </select>
      @if (isInvalid('priority')) {
        <span class="error">{{ requiredMessage('Prioritaet') }}</span>
      }
    </label>

    <label>
      Beschreibung (optional)
      <textarea
        formControlName="description"
        rows="3"
        placeholder="Weitere Details oder Hinweise"
      ></textarea>
    </label>

    <label>
      Faellig bis (optional)
      <input type="date" formControlName="dueDate" />
    </label>

    <button class="primary-button" type="submit" [disabled]="loading">
      Aufgabe erstellen
    </button>
  </form>
</section>
