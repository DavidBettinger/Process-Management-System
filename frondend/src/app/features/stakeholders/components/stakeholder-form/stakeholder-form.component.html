<section class="form-panel">
  <header>
    <p class="eyebrow">Stammdaten</p>
    <h2>Neue Beteiligte anlegen</h2>
    <p class="subtitle">Ergaenze Personen, die in Prozessen vorkommen.</p>
  </header>

  <form class="form" [formGroup]="form" (ngSubmit)="submit()">
    <label>
      Vorname
      <input type="text" formControlName="firstName" placeholder="z.B. Maria" />
      @if (isInvalid('firstName')) {
        <span class="field-error">{{ requiredMessage('Vorname') }}</span>
      }
    </label>

    <label>
      Nachname
      <input type="text" formControlName="lastName" placeholder="z.B. Becker" />
      @if (isInvalid('lastName')) {
        <span class="field-error">{{ requiredMessage('Nachname') }}</span>
      }
    </label>

    <label>
      Rolle
      <select formControlName="role">
        <option value="" disabled>Bitte waehlen</option>
        @for (role of roles; track role.value) {
          <option [value]="role.value">{{ role.label }}</option>
        }
      </select>
      @if (isInvalid('role')) {
        <span class="field-error">{{ requiredMessage('Rolle') }}</span>
      }
    </label>

    <button class="primary-button" type="submit" [disabled]="isSubmitting">
      Beteiligte anlegen
    </button>
  </form>
</section>
